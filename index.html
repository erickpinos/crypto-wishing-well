<!DOCTYPE html>
<html lang="en" >

<head>
	<meta charset="UTF-8">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="js/index.js"></script>
	<script src="js/canvasjs.min.js"></script>
	<link rel="stylesheet" href="css/style.css">
	<link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet">
	<title>Wishing Well</title>
</head>

<body>

	<div id="wrapper">
	<div id="header">
	<p id="txt_title">Wishing Well <div id="total_ETH"></div> ETH Donated</p>
		<center>
			<div id="chartContainer" style="width: 100%; height: 300px"></div>
		</center>
	</div>
	<div id="last-donation-container">
		<div id>Most Recent Donation: <div id="last-donation-name"></div></div>
	</div>
	<div id="pendingStatus">
		<center>
			<div id="pendingMessage">Ethereum Transaction Incoming!!!</div>
			<img id="pendingHeart" src="image/heart_loading.gif">
		</center>
	</div>
	
	<table style="width:100%" id="table_title">
		<tr>
    		<th style="width:25%">Water.org</th>
   			<th style="width:25%">UNICEF</th> 
   			<th style="width:25%">World Wildlife Fund</th>
   			<th style="width:25%">Black Girls Code</th>
		</tr>
		<tr>
			<th><img src="image/address1_qrcode.png" alt="Address 1" height="100" width="100"></th>
			<th><img src="image/address2_qrcode.png" alt="Address 2" height="100" width="100"></th>
			<th><img src="image/address3_qrcode.png" alt="Address 3" height="100" width="100"></th>
			<th><img src="image/address4_qrcode.png" alt="Address 4" height="100" width="100"></th>
		</tr>
		<tr>
  			<th><input style="line-height: 20px; font-size: 20px; padding-bottom:-5px;" type="number" id="amount1" min="0.01" max="10" step="0.05" placeholder="0.05"></th>
 			<th><input style="line-height: 20px; font-size: 20px; padding-bottom:-5px;" type="number" id="amount2" min="0.01" max="10" step="0.05" placeholder="0.05"></th>
		  	<th><input style="line-height: 20px; font-size: 20px; padding-bottom:-5px;" type="number" id="amount3" min="0.01" max="10" step="0.05" placeholder="0.05"></th>
  			<th><input style="line-height: 20px; font-size: 20px; padding-bottom:-5px;" type="number" id="amount4" min="0.01" max="10" step="0.05" placeholder="0.05"></th>
		</tr>
		<tr>
			<th><button class="pay-button" id = "pay-button2" onclick="donate1()"></button></th>
			<th><button class="pay-button" id = "pay-button2" onclick="donate2()"></button></th>
 			<th><button class="pay-button" id = "pay-button3" onclick="donate3()"></button></th>
    		<th><button class="pay-button" id = "pay-button4" onclick="donate4()"></button></th>
		</tr>
	</table>    

</body>

<script>
	var address1 = "0xc669d3A20F921713F16Bce59D4Ac0241047EC6b2";
	var address2 = "0xf73d1b277786819f38C5a7f6e88E9e4c249Fa1C6";
	var address3 = "0x9E8cfEe0D8578E85Ab5b48f4239830213CDa983a";
	var address4 = "0x2ed10bDd772B53E1f6be46Fbe0998327753FE158"

	var amount = null;

	function donate(wallet,amountID) {

	console.log(wallet);
	console.log(amount);

    	if (typeof web3 !== 'object') {
      		alert('MetaMask not loaded, try later');
    	return;
		}

	if (isNaN(amount) || amountID < 0) {
    	alert('Please, enter valid donation size!');
    	return;
	}
	
	const web4 = new Web3(web3.currentProvider);
//	const amount = parseFloat(document.getElementById(amount).value);
    
	if (!web4.eth.accounts[0]) {
    	alert('Please, login to MetaMask first');
    return;
	}
    
// 	const donationWallet = document.getElementById(wallet).value;
// 	console.log(donationWallet);
 	
 	const transactionObject = {
		from: web4.eth.accounts[0],
    	to: donationWallet,
    	value: web4.toWei(amount),
	}

	console.log(transactionObject);
 	web4.eth.sendTransaction(transactionObject, function(){
    	alert('Success!');
	})
	}  

	function donate1() {
		amount = amount1.value;
		donate(address1,amount);
	}

	function donate2() {
		amount = amount2.value;
		donate(address2,amount);
	}

	function donate3() {
		amount = amount3.value;
		donate(address3,amount);
	}

	function donate4() {
		amount = amount4.value;
		donate(address4,amount);
	}

</script>


</html>
